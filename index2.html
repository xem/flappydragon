<!DOCTYPE html>
<html><head>
<meta charset=UTF-8>

<body style="padding:0;margin:0;overflow:hidden">


<canvas id=a></canvas>

<img id="img" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAABnCAYAAABPYmGyAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAABiXSURBVHhevZwJuFbT98dPVyEq3YhERZIojWaKPIZkiMyEUqbMs8ocytBgyEyJUIRkHjKUohGhRBQhMmUM1fmvz3rPeu86+z3ve4vf8/8+z7lnr7PP2Xt9995r77WH91ZZsWJFHAnKysq4RStXroziOI7WWGMNlQnzrJRcpUoVDS9evDgaMmRINGbMmOjXX3+NmjRpEm244YZR1apVo6VLl0affvqpPu/QoUN06qmnRp06ddLvSM/yJz3RSb8xLF++fNXlZcuWSRo5/P333/Gff/6ZSHH8zz//lJQNEydOjNdcc824YcOG8YMPjkyeFsf7778fH3PMMRRkfO655yZP45jC/f333xMpjoXoKsncTaZEFJDxL4cyZH777bdEykFKJt50003jFi1axL/88kvyNAfi/PsoK7WTSBXo37+/EnvllVeSJzmgnH/fZK+8lwGyEvo3ZCZPnqyKcAd//fWX3kFIBviahVwYL00zPvLIoxIpp5yhGDkPkyOUDZX3Mpl7ZcFjj41RMoZQOY+ffvop/uyzz1JpepC+ke3Zs2e89dZba9jDf1usZgzRH3/8kQQLawZAhua0cOHC+IMPPohHjBhRksyAAQPibbfdVt/JutZbb734hBNO0LQAeXpgUzvuuGP8ySefxPPmzYsXLFigNW4gbGRCctyL2tAmm2wSl5VVievWrRtvueWWkslOcfv27VUpgyeDIqHy0hMWPPNXo0aN4h9++EG/983w0EMP1fj99++shYMu1atX12fvvPOOvhOSAciqXdjMhg+/P5ZuNZEqQAfw8ccfa9iTqV17vZSiXFlkdt111/iwww6LW7ZsmXr+3HPPJSlVoFq1akrSA+Xr1Kmj4WLNrsCGwC233BJfdtllGiYejBw5Ukpsfw17Muuuu25KOa6qVdNkDjrooOTtNA4//PD8O77kaS3YXa1atfSZKQuMUEjG5MiTMeXvueeeuF+/fho2GyNT4Huro446Kq+QXSEZGXSTt7O77vPOOy//LvA23bZt23jChAmJlAMmYICEJ8M9bxC+pu6+++74kksu0TB4+umn4wMOOCCRcli8+JuU4lwhGa4G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" width=1>

<script>
var a = document.getElementsByTagName('canvas')[0];
var b = document.body;
a.style.width = (a.width = innerWidth) + 'px';
a.style.height = (a.height = innerHeight) + 'px';
var c = a.getContext('2d');

// Variables
// a: the canvas
// b: the body
// c: the canvas's 2d context
// d: (reused) game has started (0/1)
// e: game has ended (0/1)
// f: score
// g: the random map
// h: dragon's vertical speed
// i, j: dragon's coordinates x, y
// k: steps already passed (1 step = 20px)
// l: the game's framerate
// n: the game's loop function
// o: loop var
// p: dragon's drawing path
// v, w, y, z: temp vars

// Initialization
c.scale(a.height/1E3,a.height/1E3);

// Reset
d=e=f=h=0;
g=[];
for(o=0;o<1E3;o++)
  g[o]=g[o+1E3]=8*Math.random()|1-1;
i=j=300;
k=20;
l=50;

// Controls (click/tap)
a.ontouchstart=a.onmousedown=function(){
  
  // If game is over, reset
  if(e){
    d=e=f=h=0;
    g=[];
    for(o=0;o<1E3;o++)
      g[o]=g[o+1E3]=8*Math.random()|1-1;
    i=j=300;
    k=20;
    l=50;
  }
  
  // If game is not over, start the game if it's not started, and jump
  else{
    h=45;
    d=1;
  }
};

// Game loop
n=function(){

  // Background
  c.fillStyle="#fff";
  c.fillRect(0,0,4E4,4E4);
  
  // Walls
  c.fillStyle="#ddd";
  
  // Roof
  c.beginPath();
  c.moveTo(-k,0);
  for(o=2E3;o--;)
    o%20
    ?
    c.lineTo(40*o-k,20+4*g[o])
    :
    (c.lineTo(40*o-k,100*g[o]),c.lineTo(40*o-k-4,100*g[o]));
  c.lineTo(40*o-k,0);
  c.fill();
  
  // Ceiling
  c.beginPath();
  c.moveTo(-k,2E3);
  for(o=2E3;o--;)
    o%20
    ?
    c.lineTo(40*o-k,980-4*g[o])
    :
    (c.lineTo(40*o-k,100*(g[o]+3)),c.lineTo(40*o-k-4,100*(g[o]+3)));
  c.lineTo(40*o-k,1E3);
  c.fill();
  
  c.moveTo(v=i-e,w=(j-=h)-e);
  
  c.drawImage(img, i - 20, j - 40);
  
  // Apply gravity if the game has started
  d&&(h-=6);
  
  // Loop on the map if we are far enough
  d&&!e&&(k+=20,4E4<k&&(k-=4E4));
  
  // Increase score and game speed after each obstacle
  !d||e||(k+280)%800||(f++,20<l&&l--);
  
  // Game over
  if(50>j||950<j||!((k+300)%800)&&(j<100*g[20*~~(k/800)+20]+50||j>100*g[20*~~(k/800)+20]+250))
    e=40;
  
  // Text
  c.fillStyle="#8cd";
  c.font="6em Arial";
  d&&c.fillText(f,a.width/(a.height/1E3)/2,500);
  //d||c.fillText("Flappy Dragon",a.width/(a.height/1E3)/2-300,500);
  e&&c.fillText("Score",a.width/(a.height/1E3)/2-90,370);
  c.fillText(e?"Réessayer?":!d?"Démarrer":"",a.width/(a.height/1E3)/2-200,!d?500:600);
  
  // Loop
  setTimeout(n,l)
}

n();

</script>
