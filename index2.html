<!doctype html>
<html>
	<head>
		<title>JS1k, [COMPO] demo submission [ID]</title>
		<meta charset="utf-8" />
    <style>
      html, body { margin: 0; padding: 0; border: 0; }
      #c { display: block; }
      #c { background:url(c.gif) no-repeat}
    </style>
	</head>
	<body>
		<canvas id="c"></canvas>
		<script>
			var a = document.getElementsByTagName('canvas')[0];
			var b = document.body;
      var d = function(e){ return function(){ e.parentNode.removeChild(e); }; }(a);
      // unprefix some popular vendor prefixed things (but stick to their original name)
      var AudioContext =
        window.AudioContext ||
        window.webkitAudioContext;
      var requestAnimationFrame =
        window.requestAnimationFrame ||
        window.mozRequestAnimationFrame ||
        window.webkitRequestAnimationFrame ||
        window.msRequestAnimationFrame ||
        function(f){ setInterval(f, 1000/30); };
      // stretch canvas to screen size (once, wont onresize!)
      a.style.width = 300 + 'px';
      a.style.height = (a.height = innerHeight) + 'px';

      var c = a.getContext('2d');
		</script>
		<script>
s=0;

q=[];
//q = [[170, 64], [145, 105], [148, 107], [148, 111], [152, 115], [158, 117], [167, 121], [170, 116], [174, 115], [176, 118], [178, 122], [180, 122], [184, 121], [187, 124], [187, 127], [187, 130], [192, 137], [194, 142], [196, 148], [200, 149], [200, 153], [200, 155], [198, 160], [194, 162], [186, 154], [180, 153], [172, 149], [168, 142], [161, 141], [158, 137], [150, 137], [142, 137], [135, 139], [128, 140], [122, 144], [119, 149], [111, 151], [106, 149], [108, 146], [112, 140], [111, 135], [109, 136], [107, 140], [105, 146], [100, 149], [92, 151], [87, 150], [88, 145], [92, 144], [95, 140], [95, 136], [86, 140], [79, 143], [68, 144], [54, 144], [45, 140], [40, 135], [39, 127], [38, 121], [35, 116], [28, 110], [28, 104], [33, 104], [37, 94], [42, 95], [43, 102], [47, 102], [51, 105], [47, 109], [45, 116], [46, 126], [50, 132], [59, 134], [63, 127], [69, 117], [73, 108], [79, 104], [86, 98], [95, 95], [101, 94]]
//q = [[170, 64], [106, 94], [104, 89], [95, 88], [85, 91], [85, 87], [86, 84], [82, 84], [76, 84], [77, 79], [84, 76], [76, 71], [68, 67], [63, 66], [67, 58], [82, 56], [82, 50], [75, 40], [72, 36], [71, 30], [75, 29], [81, 33], [85, 32], [86, 22], [86, 10], [90, 8], [94, 10], [99, 18], [102, 26], [109, 36], [118, 42], [120, 50], [118, 58], [112, 63], [115, 76], [120, 84], [123, 91], [126, 99], [128, 89], [127, 78], [120, 72], [116, 68], [120, 61], [126, 56], [128, 46], [126, 38], [125, 33], [138, 33], [139, 27], [140, 19], [140, 9], [143, 7], [149, 12], [157, 20], [163, 26], [171, 35], [176, 41], [180, 49], [184, 60], [186, 73], [186, 82], [179, 82], [170, 77], [157, 76], [156, 80], [152, 82], [148, 87], [147, 96], [146, 104]]
//q = [[170, 64], [106, 94], [102, 90], [90, 90], [88, 94], [86, 86], [80, 86], [75, 89], [74, 91], [69, 84], [63, 84], [58, 87], [56, 89], [53, 80], [45, 76], [40, 74], [42, 71], [50, 70], [54, 67], [59, 61], [60, 54], [71, 64], [74, 65], [79, 65], [82, 70], [88, 75], [93, 76], [100, 80], [110, 86], [120, 91], [124, 95], [128, 97], [127, 93], [125, 88], [119, 86], [115, 86], [114, 80], [109, 78], [103, 78], [100, 78], [97, 69], [93, 66], [88, 65], [84, 65], [85, 59], [84, 53], [80, 49], [73, 46], [84, 46], [98, 46], [112, 48], [123, 56], [130, 61], [137, 67], [143, 74], [144, 83], [145, 94], [147, 102], [147, 106]]
x = 104;
y = 94;
c.beginPath();
c.moveTo(x,y);
/*for(i=1;i<q.length;i++){
  p.push((18-(q[i][0]-q[i-1][0])).toString(36));
  p.push((18-(q[i][1]-q[i-1][1])).toString(36));
  c.lineTo((x = x+p[i][0]),(y = y+p[i][1]));
  //console.log(x, y);
}*/
//c.fill();
//console.log(p.join(""));

// On click
onclick=function(e){
  x2 = e.pageX;
  y2 = e.pageY;
  if(x2-x <= 8 && x2-x > -8 && y2-y <= 4 && y2-y > -4){
    c.lineTo(x2,y2);
    c.stroke();
    console.log(x2,y2);
    //console.log((4 - (y2 - y)), (8 - (x2 - x)));
    q.push(String.fromCharCode(((4 - (y2 - y)) << 4) + (8 - (x2 - x))));
    //q.push((((4 - (y2 - y)) << 4) + (8 - (x2 - x))));
    console.log(q.join(''));
    //console.log(q);
    x = x2;
    y = y2
  }
}

onmousemove=function(e){
  x2 = e.pageX;
  y2 = e.pageY;
  if(x2-x <= 8 && x2-x > -8 && y2-y <= 4 && y2-y > -4){
    b.style.background = "white";
  }
  else{
    b.style.background = "red";
  }
}

// Body
//[4, 8, 6, 16, 1, 36, 117, 101, 36, 8, 36, 119, 52, 7, 8, 5, 7, 6, 5, 5, 8, 9, 14, 124, 123, 107, 110, 126, 123, 121, 127, 127, 63, 79, 62, 46, 13, 10, 30, 94, 121, 116, 119, 120, 121, 26, 10, 12, 31, 79, 121, 116, 116, 121, 31, 30, 63, 62, 95, 111, 127, 126, 122, 120, 121, 120, 106, 120, 122, 123, 123, 119, 70, 118, 119, 119, 118, 20, 8, 81, 23, 26, 11, 9, 8, 7, 5, 7, 50, 67, 103, 118, 102, 119, 102, 119, 119, 117, 118, 116, 118, 116, 115, 96, 84, 66]
"$ue$$w4	|{kn~{y?O>.\r\n^ytwxy\nOytty?>_o~zxyxjxz{{wFvwwvQ	2Cgvfwfwwuvtvts`TB"

// wings1
//[119, 92, 77, 63, 26, 121, 122, 108, 60, 8, 123, 106, 105, 94, 14, 124, 121, 124, 93, 124, 100, 98, 116, 116, 119, 119, 119, 3, 3, 66, 8, 20, 20, 34, 22, 34, 19, 3, 20, 6, 34, 16, 70, 121, 120, 127, 79, 121, 121, 123, 110, 93, 121, 106, 123, 93, 109, 120, 120, 122, 122, 124, 109, 113, 64, 64, 32, 48, 1, 0, 3, 5, 3, 5, 7, 7, 8, 8, 8, 9]		
'w\M?yzl<{ji^|y|]|dbttwwwB"""FyxOyy{n]yj{]mxxzz|mq@@ 0 	'

// Wings2
//[119, 126, 79, 111, 62, 122, 118, 116, 119, 127, 124, 124, 125, 114, 97, 65, 120, 122, 122, 122, 122, 107, 121, 120, 119, 68, 37, 115, 119, 120, 121, 119, 120, 120, 84, 36, 3, 7, 21, 7, 5, 19, 4, 5, 7, 7, 10, 11, 11, 7, 8, 22, 23, 7, 22, 5, 23, 7, 68, 119, 121, 120, 120, 122, 121, 123, 121, 123, 122, 117, 116, 118, 119, 119, 120, 120, 121, 122, 119, 99, 81, 118, 119, 121, 120, 120, 120, 120, 84, 3, 3, 3, 4, 2, 72, 4, 6, 5, 7, 6, 23, 7, 6, 7, 8, 7, 24, 9, 78, 125, 111, 63, 28, 12, 13, 9, 9]
"w~Oo>zvtw||}raAxzzzzkyxwD%swxywxxT$\nDwyxxzy{y{zutvwwxxyzwcQvwyxxxxTH	N}o?\r		"
    </script>
	</body>
</html>
