<!DOCTYPE html>
<html><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
		<title>...</title>
		<meta charset="utf-8">
    <style>
      html, body { margin: 0; padding: 0; border: 0; }
      #c { display: block; } /* kill scrollbars from hell */
    </style>
	</head>
	<body>
		<canvas height="635" style="width: 1366px; height: 635px;" width="1366" id="c"></canvas>
		<script>
			var a = document.getElementsByTagName('canvas')[0];
			var b = document.body;
      var d = function(e){ return function(){ e.parentNode.removeChild(e); }; }(a);
      // unprefix some popular vendor prefixed things (but stick to their original name)
      var AudioContext =
        window.AudioContext ||
        window.webkitAudioContext;
      var requestAnimationFrame =
        window.requestAnimationFrame ||
        window.mozRequestAnimationFrame ||
        window.webkitRequestAnimationFrame ||
        window.msRequestAnimationFrame ||
        function(f){ setInterval(f, 1000/30); };
      // stretch canvas to screen size (once, wont onresize!)
      a.style.width = (a.width = innerWidth) + 'px';
      a.style.height = (a.height = innerHeight) + 'px';

      var c = a.getContext('2d');
		</script>
		<script>

/** MY CODE **/

// Initializations:
// Canvas size (1000px, scaled)
W = a.width;
H = a.height;
h = 1000;

// Canvas scale (height compared to 1000px)
s = H / h;

// Walls randomness (0-10)
R = [];
for(i = 0; i < h; i++){
  R[i] = R[i + h] = ~~(Math.random() * 6) + 1;
}

// Dragon shape (temp)
d = "fgieeecg9efnejgfgegiejffififdbgdgcehieigkdmgqqojqmmppjlmqiqipgphoeldqgnkgleojnkhkekcnfqgnjhnejfmimrepfthwirmnnjqjolnpoiodiesdhhbeiefmekbh8ec9gepcsercmbo9lcj";
e = "knrjsfimhlmioihnblqnqmnjeq3kiopslmjoejceejhsiuekegdafab89cgakaodf5dafbfagsjtpommepcngskqjn5ihohqisfkcdaacca9dceae7g5i9pirnvjjemgmdj9ja";
u = "mmuikekqoinfjgnpoinfkglrqmnkglajeldohp78fhdifdcddhbe8c8deeegjmknokmijonkoililrmlnjmihojommpl7i4i4g7abdbccbh9h7gaie";

// Game loop
k = 0;

// Game state (begin / ended / score / framerate)
B = E = C = 0;
r = 60;

// Dragon position
x = 200;
y = 950;

// Dragon vertical speed, jump size (random) and gravity (random)
V = 0;
J = Math.random() * 10 | 0 + 30;
G = Math.random() * 3 | 0 + 2;

// Scene scrolling (px)
S = 20;

// Click/tap to:
// - Start
// - Increase the dragon's vertical speed
// - Reset
ontouchstart = onmousedown = function(){

  // Reset
  if(E){
    k = B = E = C = 0;
    r = 60;
    x = 200;
    y = 950;
    V = 0;
    J = Math.random() * 10 | 0 + 30;
    G = Math.random() * 3 | 0 + 2;
    S = 20;
  }
  
  // Start / Jump
  else{
    B = 1;
    V = J;
  }
}
F = function(){

  // Draw background
  c.fillStyle = "#E50";
  c.fillRect(0, 0, W, H);

  // Scale the canvas as if it was 1000px high
  c.save();
  c.scale(s, s);
  
    // Up wall
    c.fillStyle = "#920";
    c.beginPath();
    c.moveTo(-S, 0);
    for(i = 0; i < 2000; i++){

      // random height every 40px
      if(i % 20){
        c.lineTo(i * 40 - S, 20 + 4 * R[i]);
      }
      
      // random obstacle every 20 steps.
      else{
        c.lineTo(i * 40 - S, 100 * (R[i]));
        c.lineTo(i * 40 + 4 - S, 100 * (R[i]));
      }
    }
    c.lineTo(i * 40 - S, 0);
    c.fill();
    
    // Down wall
    c.beginPath();
    c.moveTo(-S, 2000);
    for(i = 0; i < 2000; i++){
      if(i % 20){
        c.lineTo(i * 40 - S, 980 - 4 * R[i]);
      }
      else{
        c.lineTo(i * 40 - S, 100 * (R[i] + 3));
        c.lineTo(i * 40 + 4 - S, 100 * (R[i] + 3));
      }
    }
    c.lineTo(i * 40 - S, 1000);
    c.fill();
  
    // Draw dragon
    c.fillStyle = "#000";
    c.beginPath();
    z = d + (V > 10 ? u : e);
    c.moveTo(v = x, w = (y = y - V));
    for(i = 0; i < z.length; i += 2){
      c.lineTo((v += -parseInt(z[i],36)+18),(w += -parseInt(z[i + 1],36)+18));
    }
    c.fill();
    
    // If the game has started, fall
    if(B){
      if(V > -40){
        V -= G;
      }
    }
    
    // If the game is started and not over, scroll
    if(B && !E){
      S += 20;
      if(S > 40000){
        S-= 40000;
      }
    }
    
    // Count loops
    if(B){
      k++;
    }
    
    // Increase score and speed every 40 loops
    if(B && !E && !(k % 40)){
      C++;
      if(r > 15){
        r--;
      }
    }
    
    // Game over
    if(
      // Too high
      y < 50
      
      ||
      
      // Too low
      y > 950
      
      ||
      
      // Didn't pass between obstacles
      (!((S + 140) % 800) && B && k > 10 && (y < R[Math.floor(S/800) * 20 + 20] * 100 + 50 || y > R[Math.floor(S/800) * 20 + 20] * 100 + 250))
    ){
      E = 1;
    }
    
    // Text
    c.fillStyle = "#fff";
    c.font = "bold 100px 'Century Gothic', Arial";
    
    if(E || !B){
    
      // Game over
      if(E){
        c.fillText("GAME OVER", W / 2 / s - 300, 400);
        c.fillText("SCORE: " + C, W / 2 / s - 200, 500);
        c.fillText("Restart", W / 2 / s - 150, 600);
      }
      
      // Start
      if(!B){
        c.fillText("FLAPPY DRAGON", W / 2 / s - 400, 450);
        c.fillText("Start", W / 2 / s - 100, 550);
      }
    }
    
    // Score
    if(!E && B){
      c.fillText(C, W / s - 200, 150);
    }
  
  c.restore();
  
  setTimeout(F, r);
}
F();

/** END **/
		</script>
	

</body></html>